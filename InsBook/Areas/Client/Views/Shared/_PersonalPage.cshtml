@{
    var Profile = (Model.Models.GetProfileModel)ViewBag.Profile;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Assets/css/layouts/cropper.min.css" rel="stylesheet" />
    <link href="~/Assets/css/layouts/jquery-ui.css" rel="stylesheet" />
    <link href="~/Assets/css/pages/user-info.css" rel="stylesheet" />
    <link href="~/Assets/css/layouts/header.css" rel="stylesheet" />
    <link href="~/Assets/css/layouts/footer.css" rel="stylesheet" />
    @RenderSection("css", required: false)
    <title>Personal Page</title>
</head>
<body>
    @{
        Html.RenderPartial("~/Areas/Client/Views/Layout/header.cshtml");
    }
    <main>
        <div id="user-infomation">
            <div class="container">
                <div class="user-info-title">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="user-ava">
                                <img src="~/Images/@Profile.anhdd" alt="">
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="user-description">
                                <div class="user-description-one">
                                    <h1 class="user-name">@Profile.tennguoidung</h1>
                                    <a href="/Client/Personal/ChangeGeneralInfor" title="Chỉnh sửa trang cá nhân" class="user-setting"><button type="button" class="btn btn-outline-primary">Chỉnh sửa trang cá nhân</button></a>
                                    <div class="account-setting">
                                        <button type="button" class="btn btn-outline-primary"><i class="fas fa-cog fa-2x"></i></button></a>
                                    </div>
                                </div>
                                <ul class="user-description-two">
                                    <li>
                                        <span><span>@Profile.soluongbaiviet</span> bài viết</span>
                                    </li>
                                    <li>
                                        <span><span>@Profile.soluongbanbe</span> bạn bè</span>
                                    </li>
                                    <li>
                                        <span>Đang có <span>@Profile.soluongtheodoi</span> người dùng theo dõi</span>
                                    </li>
                                </ul>
                                <div class="user-description-three">
                                    @if (@Profile.bietdanh != null)
                                    {
                                        <h1 class="user-description-three-bietdanh">@Profile.bietdanh.Split('@')[1]</h1>
                                    }
                                    @if (Profile.gioithieu != null)
                                    {
                                        <h1 class="user-description-three-gioithieu">@Profile.gioithieu</h1>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @RenderBody()
            </div>
        </div>
    </main>

    @{
        Html.RenderPartial("~/Areas/Client/Views/Layout/footer.cshtml");
    }
</body>
</html>

<script src="~/Assets/media/js/jquery-3.4.1.min.js"></script>
<script src="~/Assets/media/js/popper.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Assets/js/cropper.min.js"></script>
<script src="~/Assets/js/jquery-ui.min.js"></script>

<script src="~/Assets/js/font-awesome.js"></script>
<!--Script references. -->
<!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
<!--Reference the SignalR library. -->
<script src="~/Scripts/jquery.signalR-2.4.1.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<!--SignalR script to update the chat page and send messages.-->

<script src="~/Assets/js/user-info.js"></script>

<script>
    $("#congty-thixa").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenDD))
    });
    $(".edit-congty-thixa").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenDD))
    });
    $("#congty-ten").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenCT))
    });
    $(".edit-congty-ten").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenCT))
    });

    $(".truonghoc-ten").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenTH))
    });

    function GetCNName() {
        var daihoc = $(".truonghoc-ten").val();
        if (daihoc != "") {
            var formData = new FormData();
            var token = $('input[name="__RequestVerificationToken"]').val();

            formData.append('__RequestVerificationToken', token); //form[0]

            formData.append('school_name', daihoc);

            $.ajax({
                type: 'post',
                url: '/Client/Personal/GetCNName',
                dataType: 'json',
                cache: false,
                contentType: false,
                processData: false,
                data: formData,
                success: function (response) {
                    if (response.status == true) {
                        $(".truonghoc-chuyennganh").autocomplete({
                            source: response.data
                        });
                    }
                }
            });
        }
    }

    $(".edit-truonghoc-ten").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenTH))
    });

    //function GetEditCNName() {
    //    var truonghoc = $(".edit-truonghoc-ten").val();
    //    if (truonghoc != "") {
    //        var formData = new FormData();
    //        var token = $('input[name="__RequestVerificationToken"]').val();

    //        formData.append('__RequestVerificationToken', token); //form[0]

    //        formData.append('school_name', truonghoc);

    //        $.ajax({
    //            type: 'post',
    //            url: '/Client/Personal/GetCNName',
    //            dataType: 'json',
    //            cache: false,
    //            contentType: false,
    //            processData: false,
    //            data: formData,
    //            success: function (response) {
    //                if (response.status == true) {
    //                    $(".edit-truonghoc-chuyennganh").autocomplete({
    //                        source: response.data
    //                    });
    //                }
    //            }
    //        });
    //    }
    //}

    $(".diadiem-ten").autocomplete({
      source: @Html.Raw(Json.Encode(ViewBag.TenDD))
    });


    //Các biến liên quan đến phần bài viết
    var post_locations = @Html.Raw(Json.Encode(ViewBag.TenDD));

    var url = window.location.href.split('/');
    var baseUrl = url[0] + '//' + url[2];

    var friends = @Html.Raw(Json.Encode(ViewBag.BanBe));
    var session_userId =@Html.Raw(Json.Encode(ViewBag.Session_UserId));
</script>

<script src="~/Assets/javascript/Post.js"></script>

@RenderSection("js", required: false)
